{
    "name": "uni_pal",
    "privileged": true,
    "remoteUser": "ros2-dev",
    "build": {
        "dockerfile": "Dockerfile",
        "args": {
            "USERNAME": "ros2-dev"
        }
    },
    "workspaceFolder": "/home/ros2-dev/ws",
    "customizations": {
        "vscode": {
            "extensions":[
                "ms-vscode.cpptools",
                "ms-vscode.cpptools-themes",
                "twxs.cmake",
                "ms-iot.vscode-ros",
                "ms-python.python",
                "ms-vscode.cpptools-extension-pack",
                // visual
                "saeris.markdown-github-alerts",
                "bierner.markdown-preview-github-styles",
                "PKief.material-icon-theme"
            ]
        }
    },
    "containerEnv": {
        "DISPLAY": "unix:1",
        "NODE_EXTRA_CA_CERTS": "/home/ws/.github/Company_data/zscaler.crt"
        // "ROS_AUTOMATIC_DISCOVERY_RANGE": "LOCALHOST",
        // "ROS_DOMAIN_ID": "0",
    },
    "runArgs": [
        "--net=host",
        "--name=uni_pal",
        "-e", "DISPLAY=${env:DISPLAY}"
        // "--gpus=all",
        // "--runtime=nvidia",
        // "NVIDIA_DRIVER_CAPABILITIES=all",
    ],
    "postCreateCommand": "",//"bash /home/ws/.github/scripts/setup_workspace.sh && bash /home/ws/.github/scripts/start_dockers.sh && bash /home/ws/.github/scripts/setup_ros2.sh"
    "mounts": [
        "source=/tmp/.X11-unix,target=/tmp/.X11-unix,type=bind,consistency=cached",
        "source=/dev/dri,target=/dev/dri,type=bind,consistency=cached",
        "source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind",
        "source=/usr/bin/docker,target=/usr/bin/docker,type=bind",
        "source=${localWorkspaceFolder}/.github/.vscode,target=/home/ros2-dev/ws/.vscode,type=bind",
        "source=${localWorkspaceFolder}/.github/Company_data/zscaler.crt,target=/usr/local/share/ca-certificates/zscaler.crt,type=bind",
        "source=${localWorkspaceFolder}/_cache/build,target=/home/ros2-dev/ws/build,type=bind",
        "source=${localWorkspaceFolder}/_cache/install,target=/home/ros2-dev/ws/install,type=bind",
        "source=${localWorkspaceFolder}/_cache/log,target=/home/ros2-dev/ws/log,type=bind",
        "source=${localWorkspaceFolder}/.github,target=/home/ros2-dev/ws/.github,type=bind",
        "source=${localWorkspaceFolder}/uni_pal,target=/home/ros2-dev/ws/src/uni_pal,type=bind",
        "source=${localWorkspaceFolder}/README.md,target=/home/ros2-dev/ws/README.md,type=bind"
        // "source=/run/user/1000/wayland-0,target=/tmp/wayland-0,type=bind,consistency=cached",
        // "source=${localWorkspaceFolder}/uni_pal_misc_lib,target=/home/ros2-dev/ws/src/uni_pal_misc_lib,type=bind",
        // "source=${localWorkspaceFolder}/uni_pal_msgs,target=/home/ros2-dev/ws/src/uni_pal_msgs,type=bind",
        // "source=${localWorkspaceFolder}/uni_pal_description,target=/home/ros2-dev/ws/src/uni_pal_description,type=bind",
        // "source=${localWorkspaceFolder}/uni_pal_interface_templates,target=/home/ros2-dev/ws/src/uni_pal_interface_templates,type=bind",
        ]
    // "hostRequirements": {"gpu":true}
    //export DISPLAY=$(ip route list default | awk '{print $3}'):0
}